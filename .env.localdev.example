# ============================================================
# namazu - Local Development Environment (Emulator Mode)
# ============================================================
#
# このファイルは、ローカル開発環境の設定テンプレートです。
# Firebase Emulator を使用し、GCP への接続なしで開発できます。
#
# 使用方法:
#   1. docker compose up -d firebase-emulators
#   2. cp .env.localdev.example .env
#   3. go run ./cmd/namazu/
#
# Emulator UI: http://localhost:4000
#
# ============================================================

# ============================================================
# データソース設定
# ============================================================

NAMAZU_SOURCE_TYPE=p2pquake

# P2P地震情報 WebSocket API のエンドポイント
# - サンドボックス: テストデータが30秒ごとに配信（開発用）
# - 本番: 実際の地震情報のみ配信
NAMAZU_SOURCE_ENDPOINT=wss://api-realtime-sandbox.p2pquake.net/v2/ws

# ============================================================
# Firestore 設定 (Emulator)
# ============================================================

# プロジェクト ID (Emulator用、任意の値でOK)
NAMAZU_STORE_PROJECT_ID=namazu-test

# データベース名 (Emulatorではデフォルトを使用)
# NAMAZU_STORE_DATABASE=

# サービスアカウント認証情報
# - Emulator使用時は不要（コメントアウト）
# NAMAZU_STORE_CREDENTIALS=

# ============================================================
# REST API サーバー設定
# ============================================================

NAMAZU_API_ADDR=:8080

# ============================================================
# 認証設定 (Emulator)
# ============================================================

NAMAZU_AUTH_ENABLED=true

# Firebase プロジェクト ID (Emulator用、STORE_PROJECT_ID と同じ)
NAMAZU_AUTH_PROJECT_ID=namazu-test

# サービスアカウント認証情報
# - Emulator使用時は不要（コメントアウト）
# NAMAZU_AUTH_CREDENTIALS=

# テナント ID
NAMAZU_AUTH_TENANT_ID=localdev

# ============================================================
# Firebase Emulator 設定 (必須)
# ============================================================
#
# docker compose up -d firebase-emulators で起動してください。
# これらの環境変数を設定すると、SDK が自動的に Emulator に接続します。

FIREBASE_AUTH_EMULATOR_HOST=localhost:9099
FIRESTORE_EMULATOR_HOST=localhost:8080

# ============================================================
# 確認コマンド
# ============================================================
#
# Emulator 起動:
#   docker compose up -d firebase-emulators
#
# Emulator UI:
#   http://localhost:4000
#
# サーバー起動:
#   source .env && go run ./cmd/namazu/
#
# ヘルスチェック:
#   curl http://localhost:8080/health
#
# ============================================================
# 本番 GCP を使いたい場合
# ============================================================
#
# Emulator を使わず、本番 GCP に接続したい場合:
#   1. FIRESTORE_EMULATOR_HOST をコメントアウト
#   2. FIREBASE_AUTH_EMULATOR_HOST をコメントアウト
#   3. NAMAZU_STORE_PROJECT_ID=namazu-live
#   4. NAMAZU_STORE_DATABASE=localdev
#   5. NAMAZU_STORE_CREDENTIALS=namazu-live-xxx.json
#   6. NAMAZU_AUTH_PROJECT_ID=namazu-live
#   7. NAMAZU_AUTH_CREDENTIALS=namazu-live-xxx.json
#   8. NAMAZU_AUTH_TENANT_ID= (空欄、Google OAuth のみ)
#
