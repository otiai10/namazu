# ============================================================
# namazu - Local Development Environment
# ============================================================
#
# ローカル開発用の設定テンプレート。
# Auth は本物の Google Identity Platform、Firestore は Emulator。
#
# クイックスタート:
#   cp .env.localdev.example .env
#   cp compose.override.yml.example compose.override.yml
#   # compose.override.yml に実際の Firebase 設定値を入力
#   podman compose up
#
# 前提条件:
#   gcloud auth application-default login
#
# Emulator UI: http://localhost:4000
# API Server:  http://localhost:9898

# ============================================================
# データソース設定
# ============================================================

NAMAZU_SOURCE_TYPE=p2pquake
# サンドボックス: テストデータが30秒ごとに配信
NAMAZU_SOURCE_ENDPOINT=wss://api-realtime-sandbox.p2pquake.net/v2/ws

# ============================================================
# API / Auth 設定
# ============================================================

NAMAZU_API_ADDR=:9898
NAMAZU_AUTH_ENABLED=true
NAMAZU_AUTH_PROJECT_ID=namazu-live
NAMAZU_AUTH_TENANT_ID=localdev-7r9gc
NAMAZU_STORE_PROJECT_ID=namazu-test

# ============================================================
# Firestore Emulator 接続（Firestore のみ Emulator を使用）
# ============================================================

FIRESTORE_EMULATOR_HOST=localhost:8085

# ============================================================
# Auth Emulator を使う場合（GIP 不要で開発したい場合）
# ============================================================
# 本物の GIP の代わりに Auth Emulator を使う場合:
#
#   1. compose.override.yml を削除（または FIREBASE_AUTH_EMULATOR_HOST を設定）
#   2. 以下を設定:
#      NAMAZU_AUTH_PROJECT_ID=namazu-test
#      NAMAZU_AUTH_TENANT_ID=localdev
#      FIREBASE_AUTH_EMULATOR_HOST=localhost:9099
