# ============================================================
# namazu - Test Environment (Emulator Mode)
# ============================================================
#
# 認証機能のテスト用設定。.env.localdev.example をベースに
# テストユーザー設定を追加しています。
#
# 使用方法:
#   cp .env.test.example .env.test
#   podman compose up -d firebase-emulators
#   source .env.test && go run ./cmd/namazu/
#   ./scripts/test-auth.sh

# ============================================================
# 基本設定 (Emulator)
# ============================================================

NAMAZU_SOURCE_TYPE=p2pquake
NAMAZU_SOURCE_ENDPOINT=wss://api-realtime-sandbox.p2pquake.net/v2/ws
NAMAZU_STORE_PROJECT_ID=namazu-test
NAMAZU_API_ADDR=:8080
NAMAZU_AUTH_ENABLED=true
NAMAZU_AUTH_PROJECT_ID=namazu-test
NAMAZU_AUTH_TENANT_ID=localdev

# ============================================================
# Firebase Emulator 接続
# ============================================================

FIREBASE_AUTH_EMULATOR_HOST=localhost:9099
FIRESTORE_EMULATOR_HOST=localhost:8085

# ============================================================
# テストユーザー設定
# ============================================================

TEST_EMAIL=test@example.com
TEST_PASSWORD=testpassword123

# ============================================================
# 本番 GCIP を使う場合
# ============================================================
# 本番 Identity Platform のテストテナントでテストする場合:
#
#   1. 上記 FIREBASE_*_EMULATOR_HOST をコメントアウト
#   2. 以下を設定:
#      NAMAZU_STORE_PROJECT_ID=namazu-live
#      NAMAZU_STORE_DATABASE=localdev
#      NAMAZU_STORE_CREDENTIALS=namazu-live-xxx.json
#      NAMAZU_AUTH_PROJECT_ID=namazu-live
#      NAMAZU_AUTH_CREDENTIALS=namazu-live-xxx.json
#      NAMAZU_AUTH_TENANT_ID=test-hwuh8
#      FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
